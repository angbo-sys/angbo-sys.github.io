<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Angbo&apos;s blog</title>
    <description>Freshman21 is a Jekyll blog theme.</description>
    <link>http://localhost:4000/</link>
    <atom:link href="http://localhost:4000/zfeed.xml" rel="self" type="application/rss+xml"/>
    <pubDate>Fri, 15 Aug 2025 14:53:33 +0800</pubDate>
    <lastBuildDate>Fri, 15 Aug 2025 14:53:33 +0800</lastBuildDate>
    <generator>Jekyll v4.4.1</generator>
    
      <item>
        <title>WSL的网络问题(2)</title>
        <description>&lt;h3 id=&quot;问题一ip-a-只显示一个-lo-网络适配器&quot;&gt;问题一：&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ip a&lt;/code&gt; 只显示一个 lo 网络适配器&lt;/h3&gt;

&lt;h4 id=&quot;解决方法删除-wslconfig-文件&quot;&gt;解决方法：删除 &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;.wslconfig&lt;/code&gt; 文件&lt;/h4&gt;

&lt;p&gt;首先尝试删除 Windows 用户目录下的 &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;.wslconfig&lt;/code&gt; 文件。&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;&lt;strong&gt;注意：&lt;/strong&gt;
如果删除并重启后遇到 “wsl: 检测到 localhost 代理配置，但未镜像到 WSL。NAT 模式下的 WSL 不支持 localhost 代理” 的错误，这可能是由于以前安装的 &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;VMware&lt;/code&gt; 没有完全卸载干净。&lt;/p&gt;

  &lt;p&gt;&lt;strong&gt;解决方案：&lt;/strong&gt;&lt;/p&gt;
  &lt;ol&gt;
    &lt;li&gt;打开 Windows 的设备管理器，检查网络适配器是否出现问题（例如，报错“代码56”）。&lt;/li&gt;
    &lt;li&gt;如果有问题，打开注册表 (regedit)，删除 &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;HKEY_CLASSES_ROOT\CLSID\{3d09c1ca-2bcc-40b7-b9bb-3f3ec143a87b}&lt;/code&gt; 项。&lt;/li&gt;
  &lt;/ol&gt;

  &lt;p&gt;这个方法也适用于其他因网络适配器导致“代码56”错误的情况。&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h3 id=&quot;问题二提示-localhost-代理配置未镜像到-wsl&quot;&gt;问题二：提示 “localhost 代理配置未镜像到 WSL”&lt;/h3&gt;

&lt;p&gt;如果只遇到 “检测到 localhost 代理配置，但未镜像到 WSL。NAT 模式下的 WSL 不支持 localhost 代理” 的问题，请按以下步骤操作：&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;strong&gt;创建 &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;.wslconfig&lt;/code&gt; 文件&lt;/strong&gt;
在您的 Windows 用户目录（通常是 &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;C:\Users\你的用户名\&lt;/code&gt;）下创建一个新的文本文件，并将其命名为 &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;.wslconfig&lt;/code&gt;。&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;编辑 &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;.wslconfig&lt;/code&gt; 文件&lt;/strong&gt;
在文件中输入以下内容：
    &lt;div class=&quot;language-ini highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nn&quot;&gt;[experimental]&lt;/span&gt;
&lt;span class=&quot;py&quot;&gt;autoMemoryReclaim&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;gradual&lt;/span&gt;
&lt;span class=&quot;py&quot;&gt;networkingMode&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;mirrored&lt;/span&gt;
&lt;span class=&quot;py&quot;&gt;dnsTunneling&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;true&lt;/span&gt;
&lt;span class=&quot;py&quot;&gt;firewall&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;true&lt;/span&gt;
&lt;span class=&quot;py&quot;&gt;autoProxy&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;true&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;重启 WSL 服务&lt;/strong&gt;
打开 &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;PowerShell&lt;/code&gt; 或 &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;CMD&lt;/code&gt;，输入以下命令来关闭 WSL：
    &lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;wsl &lt;span class=&quot;nt&quot;&gt;--shutdown&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;
    &lt;p&gt;关闭后，重新打开您的 WSL 发行版即可。&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;检查网络连接&lt;/strong&gt;
    &lt;blockquote&gt;
      &lt;p&gt;如果重启后遇到无法访问外部网络的问题，请详见另一篇文章：&lt;a href=&quot;https://angbo-sys.github.io/wsl/2025/08/11/wsl%E7%9A%84%E7%BD%91%E7%BB%9C%E9%97%AE%E9%A2%981.html&quot;&gt;《WSL的网络问题(1)》&lt;/a&gt;。&lt;/p&gt;
    &lt;/blockquote&gt;
  &lt;/li&gt;
&lt;/ol&gt;
</description>
        <pubDate>Mon, 11 Aug 2025 21:00:00 +0800</pubDate>
        <link>http://localhost:4000/wsl/2025/08/11/wsl%E7%9A%84%E7%BD%91%E7%BB%9C%E9%97%AE%E9%A2%982.html</link>
        <guid isPermaLink="true">http://localhost:4000/wsl/2025/08/11/wsl%E7%9A%84%E7%BD%91%E7%BB%9C%E9%97%AE%E9%A2%982.html</guid>
        
        <category>wsl</category>
        
        
        <category>wsl</category>
        
      </item>
    
      <item>
        <title>WSL的网络问题(1)</title>
        <description>&lt;hr /&gt;
&lt;p&gt;在 Windows 下使用 WSL2（Windows Subsystem for Linux）时，有时会遇到以下问题：&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;apt update&lt;/code&gt; / &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ping google.com&lt;/code&gt; / &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;gif clone&lt;/code&gt; 等命令提示 &lt;strong&gt;“Temporary failure in name resolution”&lt;/strong&gt; 或 &lt;strong&gt;“Could not resolve host”&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;这种问题的本质是 &lt;strong&gt;WSL 内部的 &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/etc/resolv.conf&lt;/code&gt; 配置了一个无法正常访问的 DNS 服务器&lt;/strong&gt;。&lt;/p&gt;

&lt;hr /&gt;

&lt;h3 id=&quot;1-让-dns-设置永久生效&quot;&gt;&lt;strong&gt;1. 让 DNS 设置永久生效&lt;/strong&gt;&lt;/h3&gt;

&lt;p&gt;WSL 默认会在重启时覆盖 &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/etc/resolv.conf&lt;/code&gt;，我们需要禁用它的自动生成。&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;
    &lt;p&gt;编辑 WSL 配置：&lt;/p&gt;

    &lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nb&quot;&gt;sudo &lt;/span&gt;vim /etc/wsl.conf
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;

    &lt;p&gt;写入：&lt;/p&gt;

    &lt;div class=&quot;language-conf highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;[&lt;span class=&quot;n&quot;&gt;network&lt;/span&gt;]
&lt;span class=&quot;n&quot;&gt;generateResolvConf&lt;/span&gt; = &lt;span class=&quot;n&quot;&gt;false&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;重启 WSL：&lt;/p&gt;

    &lt;div class=&quot;language-powershell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;wsl&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;--shutdown&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;wsl&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;
    &lt;hr /&gt;
  &lt;/li&gt;
&lt;/ol&gt;

&lt;h3 id=&quot;2解决办法&quot;&gt;&lt;strong&gt;2.解决办法&lt;/strong&gt;&lt;/h3&gt;

&lt;h4 id=&quot;1使用公共的dns解析服务器&quot;&gt;&lt;strong&gt;1:使用公共的DNS解析服务器&lt;/strong&gt;&lt;/h4&gt;

&lt;ol&gt;
  &lt;li&gt;
    &lt;p&gt;在 WSL 中：&lt;/p&gt;

    &lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nb&quot;&gt;sudo &lt;/span&gt;vim /etc/resolv.conf
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;

    &lt;p&gt;改成：&lt;/p&gt;

    &lt;div class=&quot;language-conf highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;nameserver&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;8&lt;/span&gt;.&lt;span class=&quot;m&quot;&gt;8&lt;/span&gt;.&lt;span class=&quot;m&quot;&gt;8&lt;/span&gt;.&lt;span class=&quot;m&quot;&gt;8&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;nameserver&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;114&lt;/span&gt;.&lt;span class=&quot;m&quot;&gt;114&lt;/span&gt;.&lt;span class=&quot;m&quot;&gt;114&lt;/span&gt;.&lt;span class=&quot;m&quot;&gt;114&lt;/span&gt;

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;
  &lt;/li&gt;
&lt;/ol&gt;

&lt;h4 id=&quot;2使用当前-wi-fi-的-ipv4-地址&quot;&gt;&lt;strong&gt;2：使用当前 Wi-Fi 的 IPv4 地址&lt;/strong&gt;&lt;/h4&gt;

&lt;ol&gt;
  &lt;li&gt;
    &lt;p&gt;在 PowerShell 中查看 Wi-Fi IPv4：&lt;/p&gt;

    &lt;div class=&quot;language-powershell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;ipconfig&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;

    &lt;p&gt;找到 &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;无线局域网适配器 WLAN&lt;/code&gt; → &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;IPv4 地址&lt;/code&gt;（例如 &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;192.168.1.5&lt;/code&gt;）。&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;在 WSL 中：&lt;/p&gt;

    &lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nb&quot;&gt;sudo &lt;/span&gt;vim /etc/resolv.conf
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;

    &lt;p&gt;改成：&lt;/p&gt;

    &lt;div class=&quot;language-conf highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;nameserver&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;192&lt;/span&gt;.&lt;span class=&quot;m&quot;&gt;168&lt;/span&gt;.&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;.&lt;span class=&quot;m&quot;&gt;5&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;nameserver&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;114&lt;/span&gt;.&lt;span class=&quot;m&quot;&gt;114&lt;/span&gt;.&lt;span class=&quot;m&quot;&gt;114&lt;/span&gt;.&lt;span class=&quot;m&quot;&gt;114&lt;/span&gt;

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;
    &lt;ul&gt;
      &lt;li&gt;如果遇到无法修改文件，可以试试这个 &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;sudo chattr -i /etc/resolv.conf&lt;/code&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;保存并退出，然后测试：&lt;/p&gt;

    &lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;ping baidu.com
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;
  &lt;/li&gt;
&lt;/ol&gt;

&lt;hr /&gt;

&lt;h4 id=&quot;3使用-wsl-的虚拟网关的ipv4&quot;&gt;&lt;strong&gt;3：使用 WSL 的虚拟网关的IPv4&lt;/strong&gt;&lt;/h4&gt;

&lt;ol&gt;
  &lt;li&gt;
    &lt;p&gt;在 Windows 中查看：&lt;/p&gt;

    &lt;div class=&quot;language-powershell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;ipconfig&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;

    &lt;p&gt;找到 &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;vEthernet (Default Switch)&lt;/code&gt; → &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;IPv4 地址&lt;/code&gt;（例如 &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;172.27.240.1&lt;/code&gt;）。&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;修改 WSL DNS：&lt;/p&gt;

    &lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nb&quot;&gt;sudo &lt;/span&gt;vim /etc/resolv.conf
nameserver 172.27.240.1
nameserver 114.114.114.114
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;保存并测试。&lt;/p&gt;
  &lt;/li&gt;
&lt;/ol&gt;

&lt;hr /&gt;

</description>
        <pubDate>Mon, 11 Aug 2025 00:00:00 +0800</pubDate>
        <link>http://localhost:4000/wsl/2025/08/11/wsl%E7%9A%84%E7%BD%91%E7%BB%9C%E9%97%AE%E9%A2%981.html</link>
        <guid isPermaLink="true">http://localhost:4000/wsl/2025/08/11/wsl%E7%9A%84%E7%BD%91%E7%BB%9C%E9%97%AE%E9%A2%981.html</guid>
        
        <category>wsl</category>
        
        
        <category>wsl</category>
        
      </item>
    
      <item>
        <title>Hello world!</title>
        <description>&lt;p&gt;Hello world! This site is my first English blog.&lt;/p&gt;
</description>
        <pubDate>Sat, 09 Aug 2025 00:00:00 +0800</pubDate>
        <link>http://localhost:4000/uncategorized/2025/08/09/hello.html</link>
        <guid isPermaLink="true">http://localhost:4000/uncategorized/2025/08/09/hello.html</guid>
        
        <category>HelloWorld</category>
        
        
        <category>Uncategorized</category>
        
      </item>
    
  </channel>
</rss>
