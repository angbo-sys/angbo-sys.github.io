<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>angbo&apos;s blog</title>
    <description>Freshman21 is a Jekyll blog theme.</description>
    <link>http://localhost:4000/</link>
    <atom:link href="http://localhost:4000/zfeed.xml" rel="self" type="application/rss+xml"/>
    <pubDate>Mon, 11 Aug 2025 10:41:06 +0800</pubDate>
    <lastBuildDate>Mon, 11 Aug 2025 10:41:06 +0800</lastBuildDate>
    <generator>Jekyll v4.4.1</generator>
    
      <item>
        <title>wsl的网络问题</title>
        <description>&lt;hr /&gt;
&lt;p&gt;在 Windows 下使用 WSL2（Windows Subsystem for Linux）时，有时会遇到以下问题：&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;apt update&lt;/code&gt; / &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ping google.com&lt;/code&gt; / &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;git clone&lt;/code&gt; 等命令提示 &lt;strong&gt;“Temporary failure in name resolution”&lt;/strong&gt; 或 &lt;strong&gt;“Could not resolve host”&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;这种问题的本质是 &lt;strong&gt;WSL 内部的 &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/etc/resolv.conf&lt;/code&gt; 配置了一个无法正常访问的 DNS 服务器&lt;/strong&gt;。&lt;/p&gt;

&lt;hr /&gt;

&lt;h3 id=&quot;1-让-dns-设置永久生效&quot;&gt;&lt;strong&gt;1. 让 DNS 设置永久生效&lt;/strong&gt;&lt;/h3&gt;

&lt;p&gt;WSL 默认会在重启时覆盖 &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/etc/resolv.conf&lt;/code&gt;，我们需要禁用它的自动生成。&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;
    &lt;p&gt;编辑 WSL 配置：&lt;/p&gt;

    &lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nb&quot;&gt;sudo &lt;/span&gt;vim /etc/wsl.conf
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;

    &lt;p&gt;写入：&lt;/p&gt;

    &lt;div class=&quot;language-conf highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;[&lt;span class=&quot;n&quot;&gt;network&lt;/span&gt;]
&lt;span class=&quot;n&quot;&gt;generateResolvConf&lt;/span&gt; = &lt;span class=&quot;n&quot;&gt;false&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;重启 WSL：&lt;/p&gt;

    &lt;div class=&quot;language-powershell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;wsl&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;--shutdown&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;wsl&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;
    &lt;hr /&gt;
  &lt;/li&gt;
&lt;/ol&gt;

&lt;h3 id=&quot;2解决办法&quot;&gt;&lt;strong&gt;2.解决办法&lt;/strong&gt;&lt;/h3&gt;

&lt;h4 id=&quot;1使用当前-wi-fi-的-ipv4-地址&quot;&gt;&lt;strong&gt;1：使用当前 Wi-Fi 的 IPv4 地址&lt;/strong&gt;&lt;/h4&gt;

&lt;ol&gt;
  &lt;li&gt;
    &lt;p&gt;在 PowerShell 中查看 Wi-Fi IPv4：&lt;/p&gt;

    &lt;div class=&quot;language-powershell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;ipconfig&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;

    &lt;p&gt;找到 &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;无线局域网适配器 WLAN&lt;/code&gt; → &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;IPv4 地址&lt;/code&gt;（例如 &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;192.168.1.5&lt;/code&gt;）。&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;在 WSL 中：&lt;/p&gt;

    &lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nb&quot;&gt;sudo &lt;/span&gt;vim /etc/resolv.conf
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;

    &lt;p&gt;改成：&lt;/p&gt;

    &lt;div class=&quot;language-conf highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;nameserver&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;192&lt;/span&gt;.&lt;span class=&quot;m&quot;&gt;168&lt;/span&gt;.&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;.&lt;span class=&quot;m&quot;&gt;5&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;nameserver&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;114&lt;/span&gt;.&lt;span class=&quot;m&quot;&gt;114&lt;/span&gt;.&lt;span class=&quot;m&quot;&gt;114&lt;/span&gt;.&lt;span class=&quot;m&quot;&gt;114&lt;/span&gt;

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;
    &lt;ul&gt;
      &lt;li&gt;如果遇到无法修改文件，可以试试这个 &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;sudo chattr -i /etc/resolv.conf&lt;/code&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;保存并退出，然后测试：&lt;/p&gt;

    &lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;ping baidu.com
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;
  &lt;/li&gt;
&lt;/ol&gt;

&lt;hr /&gt;

&lt;h4 id=&quot;2使用-wsl-的虚拟网关的ipv4&quot;&gt;&lt;strong&gt;2：使用 WSL 的虚拟网关的IPv4&lt;/strong&gt;&lt;/h4&gt;

&lt;ol&gt;
  &lt;li&gt;
    &lt;p&gt;在 Windows 中查看：&lt;/p&gt;

    &lt;div class=&quot;language-powershell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;ipconfig&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;

    &lt;p&gt;找到 &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;vEthernet (Default Switch)&lt;/code&gt; → &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;IPv4 地址&lt;/code&gt;（例如 &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;172.27.240.1&lt;/code&gt;）。&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;修改 WSL DNS：&lt;/p&gt;

    &lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nb&quot;&gt;sudo &lt;/span&gt;vim /etc/resolv.conf
nameserver 172.27.240.1
nameserver 114.114.114.114
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;保存并测试。&lt;/p&gt;
  &lt;/li&gt;
&lt;/ol&gt;

&lt;hr /&gt;

</description>
        <pubDate>Mon, 11 Aug 2025 00:00:00 +0800</pubDate>
        <link>http://localhost:4000/uncategorized/2025/08/11/wsl%E7%9A%84%E7%BD%91%E7%BB%9C%E9%97%AE%E9%A2%98.html</link>
        <guid isPermaLink="true">http://localhost:4000/uncategorized/2025/08/11/wsl%E7%9A%84%E7%BD%91%E7%BB%9C%E9%97%AE%E9%A2%98.html</guid>
        
        <category>wsl</category>
        
        
        <category>Uncategorized</category>
        
      </item>
    
      <item>
        <title>Hello world!</title>
        <description>&lt;p&gt;Hello world! This site is my first English blog.&lt;/p&gt;
</description>
        <pubDate>Sat, 09 Aug 2025 00:00:00 +0800</pubDate>
        <link>http://localhost:4000/uncategorized/2025/08/09/hello.html</link>
        <guid isPermaLink="true">http://localhost:4000/uncategorized/2025/08/09/hello.html</guid>
        
        <category>HelloWorld</category>
        
        
        <category>Uncategorized</category>
        
      </item>
    
  </channel>
</rss>
