---
published: true
title: wsl的网络问题(2)
layout: post
author: angbo
date: 2025-08-11 21:00:00 +0800  
category: wsl
tags: wsl
comments: no
---


## **wsl遇到的一些网络问题**

### **1. `ip a` 只显示一个io网络适配器或者缺少**

#### 1. 删除windows用户目录下的 `.wslconfig ` 文件  

  *如果重新启动遇到“wsl: 检测到 localhost 代理配置，但未镜像到 WSL。NAT 模式下的 WSL 不支持 localhost 代理”*   

> 可能的原因是由于以前装过 `vmware` 没有删除干净导致，此时打开windows的设备管理器，查看自己的网络适配器是否出现问题（报错 代码56）。如果有问题打开注册表删除 `HKEY_CLASSES_ROOT\CLSID\{3d09c1ca-2bcc-40b7-b9bb-3f3ec143a87b} ` 这一部分 (同时如果遇见其他情况下网络适配器出现代码56，都可以试试)

### **2. 单纯只遇见检测到 ` localhost ` 代理配置，但未镜像到 `WSL` 。`NAT` 模式下的 `WSL` 不支持 `localhost` 代理**

1. **创建.wslconfig文件**

    在用户目录创建一个新的文本文件，并将其命名为 `.wslconfig`

2. **编辑.wslconfig文件**

    输入以下内容：

    ```bash
    [experimental]
    autoMemoryReclaim=gradual
    networkingMode=mirrored
    dnsTunneling=true
    firewall=true
    autoProxy=true
    ```

3. **重启WSL**

   打开`PowerShell`输入以下命令  
   
   ```bash
   wsl --shutdown
   ```

4. **重启WSL**

5. **如果遇到无法访问外部网络**

   *详见[wsl的网络问题1](#./2025-08-11-wsl的网络问题1.md)*



 